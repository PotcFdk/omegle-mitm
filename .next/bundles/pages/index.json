{"component":"module.exports =\nwebpackJsonp([2],{\n\n/***/ 239:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process, __resourceQuery) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(16);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(10);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(11);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(18);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(17);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(7);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Omegle = __webpack_require__(540);\n\nvar _Omegle2 = _interopRequireDefault(_Omegle);\n\nvar _head = __webpack_require__(122);\n\nvar _head2 = _interopRequireDefault(_head);\n\nvar _Messages = __webpack_require__(539);\n\nvar _Messages2 = _interopRequireDefault(_Messages);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar OmegleView = function (_Component) {\n    (0, _inherits3.default)(OmegleView, _Component);\n\n    function OmegleView(props) {\n        (0, _classCallCheck3.default)(this, OmegleView);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (OmegleView.__proto__ || (0, _getPrototypeOf2.default)(OmegleView)).call(this, props));\n\n        _this.state = {\n            messages: [],\n            started: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(OmegleView, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {}\n    }, {\n        key: 'start',\n        value: function start(e) {\n            var _this2 = this;\n\n            e.preventDefault();\n            this.setState({ started: true });\n            var c1 = new _Omegle2.default();\n            var c2 = new _Omegle2.default();\n\n            c1.on('message', function (txt) {\n                var m = _this2.state.messages;\n                m.push({ type: 'Message', name: 'Person 1', id: c1.clientID, text: txt });\n                _this2.setState({ messages: m });\n                c2.sendMessage(txt);\n            });\n\n            c2.on('message', function (txt) {\n                var m = _this2.state.messages;\n                m.push({ type: 'Message', name: 'Person 2', id: c2.clientID, text: txt });\n                _this2.setState({ messages: m });\n                c1.sendMessage(txt);\n            });\n\n            c1.on('serverMessage', function (txt) {\n                var m = _this2.state.messages;\n                m.push({ type: 'Message', name: 'Server', id: c1.clientID, text: txt });\n                _this2.setState({ messages: m });\n            });\n\n            c2.on('serverMessage', function (txt) {\n                var m = _this2.state.messages;\n                m.push({ type: 'Message', name: 'Server', id: c2.clientID, text: txt });\n                _this2.setState({ messages: m });\n            });\n\n            c1.on('serverDown', function () {\n                var m = _this2.state.messages;\n                m.push({ type: 'Message', name: 'Server', id: c1.clientID, text: 'Server seems down' });\n                _this2.setState({ messages: m });\n            });\n\n            c2.on('serverDown', function () {\n                var m = _this2.state.messages;\n                m.push({ type: 'Message', name: 'Server', id: c2.clientID, text: 'Server seems down' });\n                _this2.setState({ messages: m });\n            });\n\n            c1.on('typing', function () {\n                c2.sendTyping();\n            });\n\n            c2.on('typing', function () {\n                c1.sendTyping();\n            });\n\n            c1.on('typing', function () {\n                c2.sendTyping();\n            });\n\n            c1.on('disconnect', function () {\n                var m = _this2.state.messages;\n                c1.start();\n                c2.start();\n                m.push({ type: 'Disconnect' });\n            });\n\n            c2.on('disconnect', function () {\n                var m = _this2.state.messages;\n\n                c2.start();\n                c2.start();\n                m.push({ type: 'Disconnect' });\n            });\n\n            c1.start();\n            c2.start();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var messages = [];\n            var content = void 0;\n\n            if (!this.state.started) {\n                content = _react2.default.createElement(\n                    'div',\n                    { className: 'start' },\n                    _react2.default.createElement(\n                        'a',\n                        { href: '#', className: 'startBtn', onClick: this.start.bind(this) },\n                        'Start'\n                    )\n                );\n            } else {\n\n                content = _react2.default.createElement(_Messages2.default, { messages: this.state.messages });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    _head2.default,\n                    null,\n                    _react2.default.createElement(\n                        'style',\n                        null,\n                        '\\n                body {\\n                  font-family: Verdana;\\n                }\\n\\n                .start {\\n                  width: 100vw;\\n                  height: 100vh;\\n                  display: flex;\\n                  justify-content: space-around;\\n                  align-items: center;\\n                }\\n\\n                .startBtn {\\n                  text-decoration: none;\\n                  padding: 30px;\\n                  color: white;\\n                  background-color: #ed2d23;\\n                  border-radius: 15px;\\n                  font-size: 56px;\\n                }\\n\\n                .messages {\\n                  width: 100vw;\\n                  height: 100vh;\\n                  overflow: auto;\\n                }\\n\\n                .message {\\n                  display: flex;\\n                  margin-bottom: 3px;\\n                  align-items: center;\\n                }\\n                .nickName {\\n                  color: \"#EFEFEF\";\\n                  margin-right: 30px;\\n                  font-size: 11px;\\n                }\\n              '\n                    )\n                ),\n                content\n            );\n        }\n    }]);\n    return OmegleView;\n}(_react.Component);\n\nexports.default = OmegleView;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2VzL2luZGV4LmpzP2VudHJ5Il0sIm5hbWVzIjpbIk9tZWdsZVZpZXciLCJwcm9wcyIsInN0YXRlIiwibWVzc2FnZXMiLCJzdGFydGVkIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2V0U3RhdGUiLCJjMSIsImMyIiwib24iLCJ0eHQiLCJtIiwicHVzaCIsInR5cGUiLCJuYW1lIiwiaWQiLCJjbGllbnRJRCIsInRleHQiLCJzZW5kTWVzc2FnZSIsInNlbmRUeXBpbmciLCJzdGFydCIsImNvbnRlbnQiLCJiaW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7SUFFTUEsVTs7O0FBQ0Ysd0JBQVlDLEtBQVosRUFBbUI7QUFBQTs7QUFBQSxrSkFDVEEsS0FEUzs7QUFHZixjQUFLQyxLQUFMLEdBQWE7QUFDVEMsc0JBQVUsRUFERDtBQUVUQyxxQkFBUztBQUZBLFNBQWI7QUFIZTtBQU9sQjs7Ozs0Q0FFbUIsQ0FBRTs7OzhCQUVoQkMsQyxFQUFHO0FBQUE7O0FBQ0xBLGNBQUVDLGNBQUY7QUFDQSxpQkFBS0MsUUFBTCxDQUFjLEVBQUNILFNBQVMsSUFBVixFQUFkO0FBQ0EsZ0JBQUlJLEtBQUssc0JBQVQ7QUFDQSxnQkFBSUMsS0FBSyxzQkFBVDs7QUFFQUQsZUFBR0UsRUFBSCxDQUFNLFNBQU4sRUFBaUIsVUFBQ0MsR0FBRCxFQUFTO0FBQ3RCLG9CQUFJQyxJQUFJLE9BQUtWLEtBQUwsQ0FBV0MsUUFBbkI7QUFDQVMsa0JBQUVDLElBQUYsQ0FBTyxFQUFDQyxNQUFNLFNBQVAsRUFBa0JDLE1BQU0sVUFBeEIsRUFBb0NDLElBQUlSLEdBQUdTLFFBQTNDLEVBQXFEQyxNQUFNUCxHQUEzRCxFQUFQO0FBQ0EsdUJBQUtKLFFBQUwsQ0FBYyxFQUFDSixVQUFVUyxDQUFYLEVBQWQ7QUFDQUgsbUJBQUdVLFdBQUgsQ0FBZVIsR0FBZjtBQUNILGFBTEQ7O0FBT0FGLGVBQUdDLEVB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QUFHYSxLQUFIO0FBQ0FaLGVBQUdZLEtBQUg7QUFFSDs7O2lDQUVRO0FBQ0wsZ0JBQUlsQixXQUFXLEVBQWY7QUFDQSxnQkFBSW1CLGdCQUFKOztBQUVBLGdCQUFJLENBQUMsS0FBS3BCLEtBQUwsQ0FBV0UsT0FBaEIsRUFBeUI7QUFDckJrQiwwQkFBVTtBQUFBO0FBQUEsc0JBQUssV0FBVSxPQUFmO0FBQ047QUFBQTtBQUFBLDBCQUFHLE1BQUssR0FBUixFQUFZLFdBQVUsVUFBdEIsRUFBaUMsU0FBUyxLQUFLRCxLQUFMLENBQVdFLElBQVgsQ0FBZ0IsSUFBaEIsQ0FBMUM7QUFBQTtBQUFBO0FBRE0saUJBQVY7QUFHSCxhQUpELE1BSU87O0FBRUhELDBCQUFVLG9EQUFVLFVBQVUsS0FBS3BCLEtBQUwsQ0FBV0MsUUFBL0IsR0FBVjtBQUNIOztBQUVELG1CQUFPO0FBQUE7QUFBQTtBQUNMO0FBQUE7QUFBQTtBQUNFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFERixpQkFESztBQTBDSm1CO0FBMUNJLGFBQVA7QUE2Q0g7Ozs7O2tCQUdVdEIsVSIsImZpbGUiOiJpbmRleC5qcz9lbnRyeSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvdGltYnJvZGRpbi9TaXRlcy9vbWVnbGUtbWl0bSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge0NvbXBvbmVudH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgT21lZ2xlIGZyb20gJy4uL29tZWdsZS9PbWVnbGUnO1xuaW1wb3J0IEhlYWQgZnJvbSAnbmV4dC9oZWFkJztcbmltcG9ydCBNZXNzYWdlcyBmcm9tICcuLi9jb21wb25lbnRzL01lc3NhZ2VzJztcblxuY2xhc3MgT21lZ2xlVmlldyBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBtZXNzYWdlczogW10sXG4gICAgICAgICAgICBzdGFydGVkOiBmYWxzZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7fVxuXG4gICAgc3RhcnQoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3N0YXJ0ZWQ6IHRydWV9KTtcbiAgICAgICAgbGV0IGMxID0gbmV3IE9tZWdsZSgpO1xuICAgICAgICBsZXQgYzIgPSBuZXcgT21lZ2xlKCk7XG5cbiAgICAgICAgYzEub24oJ21lc3NhZ2UnLCAodHh0KSA9PiB7XG4gICAgICAgICAgICBsZXQgbSA9IHRoaXMuc3RhdGUubWVzc2FnZXM7XG4gICAgICAgICAgICBtLnB1c2goe3R5cGU6ICdNZXNzYWdlJywgbmFtZTogJ1BlcnNvbiAxJywgaWQ6IGMxLmNsaWVudElELCB0ZXh0OiB0eHR9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe21lc3NhZ2VzOiBtfSk7XG4gICAgICAgICAgICBjMi5zZW5kTWVzc2FnZSh0eHQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjMi5vbignbWVzc2FnZScsICh0eHQpID0+IHtcbiAgICAgICAgICAgIGxldCBtID0gdGhpcy5zdGF0ZS5tZXNzYWdlcztcbiAgICAgICAgICAgIG0ucHVzaCh7dHlwZTogJ01lc3NhZ2UnLCBuYW1lOiAnUGVyc29uIDInLCBpZDogYzIuY2xpZW50SUQsIHRleHQ6IHR4dH0pO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bWVzc2FnZXM6IG19KTtcbiAgICAgICAgICAgIGMxLnNlbmRNZXNzYWdlKHR4dCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGMxLm9uKCdzZXJ2ZXJNZXNzYWdlJywgKHR4dCkgPT4ge1xuICAgICAgICAgIGxldCBtID0gdGhpcy5zdGF0ZS5tZXNzYWdlcztcbiAgICAgICAgICBtLnB1c2goe3R5cGU6ICdNZXNzYWdlJywgbmFtZTogJ1NlcnZlcicsIGlkOiBjMS5jbGllbnRJRCwgdGV4dDogdHh0fSk7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bWVzc2FnZXM6IG19KTtcblxuICAgICAgICB9KTtcblxuICAgICAgICBjMi5vbignc2VydmVyTWVzc2FnZScsICh0eHQpID0+IHtcbiAgICAgICAgICBsZXQgbSA9IHRoaXMuc3RhdGUubWVzc2FnZXM7XG4gICAgICAgICAgbS5wdXNoKHt0eXBlOiAnTWVzc2FnZScsIG5hbWU6ICdTZXJ2ZXInLCBpZDogYzIuY2xpZW50SUQsIHRleHQ6IHR4dH0pO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe21lc3NhZ2VzOiBtfSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYzEub24oJ3NlcnZlckRvd24nLCgpID0+IHtcbiAgICAgICAgICBsZXQgbSA9IHRoaXMuc3RhdGUubWVzc2FnZXM7XG4gICAgICAgICAgbS5wdXNoKHt0eXBlOiAnTWVzc2FnZScsIG5hbWU6ICdTZXJ2ZXInLCBpZDogYzEuY2xpZW50SUQsIHRleHQ6ICdTZXJ2ZXIgc2VlbXMgZG93bid9KTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHttZXNzYWdlczogbX0pO1xuXG4gICAgICAgIH0pXG5cbiAgICAgICAgYzIub24oJ3NlcnZlckRvd24nLCgpID0+IHtcbiAgICAgICAgICBsZXQgbSA9IHRoaXMuc3RhdGUubWVzc2FnZXM7XG4gICAgICAgICAgbS5wdXNoKHt0eXBlOiAnTWVzc2FnZScsIG5hbWU6ICdTZXJ2ZXInLCBpZDogYzIuY2xpZW50SUQsIHRleHQ6ICdTZXJ2ZXIgc2VlbXMgZG93bid9KTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHttZXNzYWdlczogbX0pO1xuXG4gICAgICAgIH0pXG5cbiAgICAgICAgYzEub24oJ3R5cGluZycsICgpID0+IHtcbiAgICAgICAgICAgIGMyLnNlbmRUeXBpbmcoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYzIub24oJ3R5cGluZycsICgpID0+IHtcbiAgICAgICAgICAgIGMxLnNlbmRUeXBpbmcoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYzEub24oJ3R5cGluZycsICgpID0+IHtcbiAgICAgICAgICAgIGMyLnNlbmRUeXBpbmcoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYzEub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbSA9IHRoaXMuc3RhdGUubWVzc2FnZXM7XG4gICAgICAgICAgICBjMS5zdGFydCgpO1xuICAgICAgICAgICAgYzIuc3RhcnQoKTtcbiAgICAgICAgICAgIG0ucHVzaCh7dHlwZTogJ0Rpc2Nvbm5lY3QnfSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYzIub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbSA9IHRoaXMuc3RhdGUubWVzc2FnZXM7XG5cbiAgICAgICAgICAgIGMyLnN0YXJ0KCk7XG4gICAgICAgICAgICBjMi5zdGFydCgpO1xuICAgICAgICAgICAgbS5wdXNoKHt0eXBlOiAnRGlzY29ubmVjdCd9KVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGMxLnN0YXJ0KCk7XG4gICAgICAgIGMyLnN0YXJ0KCk7XG5cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGxldCBtZXNzYWdlcyA9IFtdO1xuICAgICAgICBsZXQgY29udGVudDtcblxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuc3RhcnRlZCkge1xuICAgICAgICAgICAgY29udGVudCA9IDxkaXYgY2xhc3NOYW1lPVwic3RhcnRcIj5cbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cInN0YXJ0QnRuXCIgb25DbGljaz17dGhpcy5zdGFydC5iaW5kKHRoaXMpfT5TdGFydDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBjb250ZW50ID0gPE1lc3NhZ2VzIG1lc3NhZ2VzPXt0aGlzLnN0YXRlLm1lc3NhZ2VzfSAvPlxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDxkaXY+XG4gICAgICAgICAgPEhlYWQ+XG4gICAgICAgICAgICA8c3R5bGU+e2BcbiAgICAgICAgICAgICAgICBib2R5IHtcbiAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBWZXJkYW5hO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC5zdGFydCB7XG4gICAgICAgICAgICAgICAgICB3aWR0aDogMTAwdnc7XG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAuc3RhcnRCdG4ge1xuICAgICAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogMzBweDtcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZDJkMjM7XG4gICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiA1NnB4O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC5tZXNzYWdlcyB7XG4gICAgICAgICAgICAgICAgICB3aWR0aDogMTAwdnc7XG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLm1lc3NhZ2Uge1xuICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDNweDtcbiAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC5uaWNrTmFtZSB7XG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCIjRUZFRkVGXCI7XG4gICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7XG4gICAgICAgICAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBgfTwvc3R5bGU+XG4gICAgICAgICAgPC9IZWFkPlxuICAgICAgICAgIHtjb250ZW50fVxuICAgICAgICA8L2Rpdj47XG5cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9tZWdsZVZpZXc7XG4iXX0=\n\n ;(function register() { /* react-hot-loader/webpack */ if (process.env.NODE_ENV !== 'production') { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/timbroddin/Sites/omegle-mitm/pages/index.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/timbroddin/Sites/omegle-mitm/pages/index.js\"); } } })();\n    (function (Component, route) {\n      if (false) return\n      if (false) return\n\n      var qs = __webpack_require__(45)\n      var params = qs.parse(__resourceQuery.slice(1))\n      if (params.entry == null) return\n\n      module.hot.accept()\n      Component.__route = route\n\n      if (module.hot.status() === 'idle') return\n\n      var components = next.router.components\n      for (var r in components) {\n        if (!components.hasOwnProperty(r)) continue\n\n        if (components[r].Component.__route === route) {\n          next.router.update(r, Component)\n        }\n      }\n    })(module.exports.default || module.exports, \"/\")\n  \n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0), \"?entry\"))\n\n/***/ },\n\n/***/ 539:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(16);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(10);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(11);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(18);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(17);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(7);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Messages = function (_Component) {\n    (0, _inherits3.default)(Messages, _Component);\n\n    function Messages() {\n        (0, _classCallCheck3.default)(this, Messages);\n        return (0, _possibleConstructorReturn3.default)(this, (Messages.__proto__ || (0, _getPrototypeOf2.default)(Messages)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(Messages, [{\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate() {\n            this.refs.messages.scrollTop = this.refs.messages.scrollHeight;\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var messages = this.props.messages;\n\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"messages\", ref: \"messages\" },\n                messages.map(function (message, k) {\n                    if (message.type == 'Message') {\n                        return _react2.default.createElement(\n                            \"div\",\n                            { className: \"message\", key: \"message-\" + k },\n                            _react2.default.createElement(\n                                \"span\",\n                                { className: \"nickName\" },\n                                message.name\n                            ),\n                            _react2.default.createElement(\n                                \"span\",\n                                { className: \"message\" },\n                                message.text\n                            )\n                        );\n                    } else {\n                        return _react2.default.createElement(\"hr\", { key: \"message-\" + k });\n                    }\n                })\n            );\n        }\n    }]);\n    return Messages;\n}(_react.Component);\n\nexports.default = Messages;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvTWVzc2FnZXMuanMiXSwibmFtZXMiOlsiTWVzc2FnZXMiLCJyZWZzIiwibWVzc2FnZXMiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJwcm9wcyIsIm1hcCIsIm1lc3NhZ2UiLCJrIiwidHlwZSIsIm5hbWUiLCJ0ZXh0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7SUFFTUEsUTs7Ozs7Ozs7Ozs2Q0FDaUI7QUFDbkIsaUJBQUtDLElBQUwsQ0FBVUMsUUFBVixDQUFtQkMsU0FBbkIsR0FBK0IsS0FBS0YsSUFBTCxDQUFVQyxRQUFWLENBQW1CRSxZQUFsRDtBQUNEOzs7aUNBRVE7QUFBQSxnQkFDQUYsUUFEQSxHQUNZLEtBQUtHLEtBRGpCLENBQ0FILFFBREE7OztBQUdQLG1CQUFPO0FBQUE7QUFBQSxrQkFBSyxXQUFVLFVBQWYsRUFBMEIsS0FBSSxVQUE5QjtBQUNGQSx5QkFBU0ksR0FBVCxDQUFhLFVBQUNDLE9BQUQsRUFBVUMsQ0FBVixFQUFnQjtBQUMxQix3QkFBSUQsUUFBUUUsSUFBUixJQUFnQixTQUFwQixFQUErQjtBQUMzQiwrQkFBTztBQUFBO0FBQUEsOEJBQUssV0FBVSxTQUFmLEVBQXlCLGtCQUFnQkQsQ0FBekM7QUFDSDtBQUFBO0FBQUEsa0NBQU0sV0FBVSxVQUFoQjtBQUE0QkQsd0NBQVFHO0FBQXBDLDZCQURHO0FBRUg7QUFBQTtBQUFBLGtDQUFNLFdBQVUsU0FBaEI7QUFBMkJILHdDQUFRSTtBQUFuQztBQUZHLHlCQUFQO0FBSUgscUJBTEQsTUFLTztBQUNILCtCQUFPLHNDQUFJLGtCQUFnQkgsQ0FBcEIsR0FBUDtBQUNIO0FBQ0osaUJBVEE7QUFERSxhQUFQO0FBWUQ7Ozs7O2tCQUlZUixRIiwiZmlsZSI6Ik1lc3NhZ2VzLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy90aW1icm9kZGluL1NpdGVzL29tZWdsZS1taXRtIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50fSBmcm9tICdyZWFjdCc7XG5cbmNsYXNzIE1lc3NhZ2VzIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMucmVmcy5tZXNzYWdlcy5zY3JvbGxUb3AgPSB0aGlzLnJlZnMubWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHttZXNzYWdlc30gPSB0aGlzLnByb3BzO1xuXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZXNcIiByZWY9XCJtZXNzYWdlc1wiPlxuICAgICAgICB7bWVzc2FnZXMubWFwKChtZXNzYWdlLCBrKSA9PiB7XG4gICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlID09ICdNZXNzYWdlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2VcIiBrZXk9e2BtZXNzYWdlLSR7a31gfT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibmlja05hbWVcIj57bWVzc2FnZS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWVzc2FnZVwiPnttZXNzYWdlLnRleHR9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gPGhyIGtleT17YG1lc3NhZ2UtJHtrfWB9Lz5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBNZXNzYWdlcztcbiJdfQ==\n\n ;(function register() { /* react-hot-loader/webpack */ if (process.env.NODE_ENV !== 'production') { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/timbroddin/Sites/omegle-mitm/components/Messages.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/timbroddin/Sites/omegle-mitm/components/Messages.js\"); } } })();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ },\n\n/***/ 540:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(10);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(11);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Omegle = function () {\n    function Omegle() {\n        (0, _classCallCheck3.default)(this, Omegle);\n\n        this.listeners = [];\n        this.isConnected = true;\n        this.queueMessages = [];\n        this.hasPartner = false;\n        this.eventTries = 0;\n    }\n\n    (0, _createClass3.default)(Omegle, [{\n        key: 'start',\n        value: function start() {\n            var _this = this;\n\n            this.queueMessages = [];\n            this.eventTries = 0;\n\n            fetch('/proxy/start?firstevents=1&lang=nl', {\n                method: 'POST',\n                headers: {\n                    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8'\n                }\n            }).then(function (response) {\n                return response.text();\n            }).then(function (text) {\n                if (text) {\n                    return JSON.parse(text);\n                } else {\n                    throw new Error('No text');\n                }\n            }).then(function (response) {\n                if (response && response.clientID) {\n                    console.log('Connected to Omegle');\n                    _this.connected();\n                    _this.parseEvents(response.events);\n                    _this.clientID = response.clientID;\n                    console.log('ClientId: ' + _this.clientID);\n                    _this.isConnected = true;\n                    _this.getEvents();\n                } else {\n                    console.log('Server down?');\n                    _this.message('serverDown');\n                    setTimeout(function () {\n                        _this.start();\n                    }, 30000);\n                }\n            }).catch(function (err) {\n                console.log(err);\n            });\n        }\n    }, {\n        key: 'getEvents',\n        value: function getEvents() {\n            var _this2 = this;\n\n            if (!this.isConnected) return false;\n\n            console.log(this.clientID + ' Getting events');\n            fetch('/proxy/events', {\n                method: 'POST',\n                body: 'id=' + encodeURIComponent(this.clientID),\n                json: true,\n                headers: {\n                    'Connection': 'keep-alive',\n                    'User-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36',\n                    'Content-Type': 'application/x-www-form-urlencoded'\n\n                }\n            }).then(function (response) {\n                return response.text();\n            }).then(function (text) {\n                return JSON.parse(text);\n            }).then(function (response) {\n                if (response) {\n                    _this2.parseEvents(response);\n                    _this2.getEvents();\n                } else {\n                    _this2.eventTries++;\n                    console.log('Tries: ' + _this2.eventTries);\n                    if (_this2.eventTries > 5) {\n                        _this2.disconnected();\n                    } else {\n                        setTimeout(function () {\n                            _this2.getEvents();\n                        }, 1000);\n                    }\n                }\n            });\n        }\n    }, {\n        key: 'parseEvents',\n        value: function parseEvents(events) {\n            var _this3 = this;\n\n            if (!events) return;\n\n            events.forEach(function (event) {\n                var type = event[0];\n                var payload = event[1];\n\n                switch (type) {\n                    case 'gotMessage':\n                        _this3.receiveMessage(payload);\n                        break;\n                    case 'typing':\n                        _this3.typing();\n                        break;\n                    case 'statusInfo':\n                        _this3.statusInfo(payload);\n                        break;\n                    case 'strangerDisconnected':\n                        _this3.disconnected();\n                        break;\n                    case 'connected':\n                        _this3.hasPartner = true;\n                        _this3.queueMessages.forEach(function (txt) {\n                            console.log('Sending message queue');\n                            _this3.sendMessage(txt);\n                        });\n                        break;\n                    case 'serverMessage':\n                        _this3.serverMessage(payload);\n                        break;\n                    default:\n                }\n            });\n        }\n    }, {\n        key: 'connected',\n        value: function connected() {\n            this.message('connect', true);\n        }\n    }, {\n        key: 'receiveMessage',\n        value: function receiveMessage(text) {\n            this.message('message', text);\n        }\n    }, {\n        key: 'serverMessage',\n        value: function serverMessage(text) {\n            this.message('serverMessage', text);\n        }\n    }, {\n        key: 'statusInfo',\n        value: function statusInfo(info) {}\n    }, {\n        key: 'typing',\n        value: function typing() {\n            console.log(this.clientID + ' is typing');\n\n            this.message('typing', true);\n        }\n    }, {\n        key: 'sendMessage',\n        value: function sendMessage(txt) {\n            if (!this.hasPartner) {\n                console.log('Add to queue');\n                this.queueMessages.push(text);\n            }\n\n            console.log(this.clientID + ' Send message ' + txt);\n\n            fetch('/proxy/send', {\n                method: 'POST',\n                body: 'id=' + encodeURIComponent(this.clientID) + '&msg=' + encodeURIComponent(txt),\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                }\n            }).then(function (response) {});\n        }\n    }, {\n        key: 'sendTyping',\n        value: function sendTyping() {\n\n            console.log(this.clientID + ' Send typing');\n\n            fetch('/proxy/typing', {\n                method: 'POST',\n                body: 'id=' + encodeURIComponent(this.clientID),\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                }\n            }).then(function (response) {});\n        }\n    }, {\n        key: 'disconnected',\n        value: function disconnected() {\n            this.isConnected = false;\n            this.message('disconnect', true);\n        }\n    }, {\n        key: 'on',\n        value: function on(type, cb) {\n            if (!this.listeners[type]) {\n                this.listeners[type] = [];\n            }\n            this.listeners[type].push(cb);\n        }\n    }, {\n        key: 'randId',\n        value: function randId() {\n            for (var a = \"\", b = 0; 8 > b; b++) {\n                var c = Math.floor(32 * Math.random()),\n                    a = a + \"23456789ABCDEFGHJKLMNPQRSTUVWXYZ\".charAt(c);\n            }return a;\n        }\n    }, {\n        key: 'message',\n        value: function message(type, payload) {\n            if (this.listeners[type]) {\n                this.listeners[type].forEach(function (cb) {\n                    cb(payload);\n                });\n            } else {}\n        }\n    }]);\n    return Omegle;\n}();\n\nexports.default = Omegle;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9tZWdsZS9PbWVnbGUuanMiXSwibmFtZXMiOlsiT21lZ2xlIiwibGlzdGVuZXJzIiwiaXNDb25uZWN0ZWQiLCJxdWV1ZU1lc3NhZ2VzIiwiaGFzUGFydG5lciIsImV2ZW50VHJpZXMiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJ0aGVuIiwicmVzcG9uc2UiLCJ0ZXh0IiwiSlNPTiIsInBhcnNlIiwiRXJyb3IiLCJjbGllbnRJRCIsImNvbnNvbGUiLCJsb2ciLCJjb25uZWN0ZWQiLCJwYXJzZUV2ZW50cyIsImV2ZW50cyIsImdldEV2ZW50cyIsIm1lc3NhZ2UiLCJzZXRUaW1lb3V0Iiwic3RhcnQiLCJjYXRjaCIsImVyciIsImJvZHkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqc29uIiwiZGlzY29ubmVjdGVkIiwiZm9yRWFjaCIsImV2ZW50IiwidHlwZSIsInBheWxvYWQiLCJyZWNlaXZlTWVzc2FnZSIsInR5cGluZyIsInN0YXR1c0luZm8iLCJ0eHQiLCJzZW5kTWVzc2FnZSIsInNlcnZlck1lc3NhZ2UiLCJpbmZvIiwicHVzaCIsImNiIiwiYSIsImIiLCJjIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY2hhckF0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0lBQU1BLE07QUFFRixzQkFBYztBQUFBOztBQUNWLGFBQUtDLFNBQUwsR0FBaUIsRUFBakI7QUFDQSxhQUFLQyxXQUFMLEdBQW1CLElBQW5CO0FBQ0EsYUFBS0MsYUFBTCxHQUFxQixFQUFyQjtBQUNBLGFBQUtDLFVBQUwsR0FBa0IsS0FBbEI7QUFDQSxhQUFLQyxVQUFMLEdBQWtCLENBQWxCO0FBQ0g7Ozs7Z0NBRU87QUFBQTs7QUFDSixpQkFBS0YsYUFBTCxHQUFxQixFQUFyQjtBQUNBLGlCQUFLRSxVQUFMLEdBQWtCLENBQWxCOztBQUVBQyx3REFBNEM7QUFDeENDLHdCQUFRLE1BRGdDO0FBRXhDQyx5QkFBUztBQUNMLDhCQUFVO0FBREw7QUFGK0IsYUFBNUMsRUFLR0Ms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QkFBR1QsT0FBSDtBQUNILGlCQUZEO0FBR0gsYUFKRCxNQUlPLENBQUU7QUFDWjs7Ozs7a0JBR1VsQyxNIiwiZmlsZSI6Ik9tZWdsZS5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvdGltYnJvZGRpbi9TaXRlcy9vbWVnbGUtbWl0bSIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIE9tZWdsZSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucXVldWVNZXNzYWdlcyA9IFtdO1xuICAgICAgICB0aGlzLmhhc1BhcnRuZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ldmVudFRyaWVzID0gMDtcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5xdWV1ZU1lc3NhZ2VzID0gW107XG4gICAgICAgIHRoaXMuZXZlbnRUcmllcyA9IDA7XG5cbiAgICAgICAgZmV0Y2goYC9wcm94eS9zdGFydD9maXJzdGV2ZW50cz0xJmxhbmc9bmxgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsKi8qO3E9MC44JyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIH0pLnRoZW4oKHRleHQpID0+IHtcbiAgICAgICAgICAgIGlmKHRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHRleHQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuY2xpZW50SUQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIE9tZWdsZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZUV2ZW50cyhyZXNwb25zZS5ldmVudHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50SUQgPSByZXNwb25zZS5jbGllbnRJRDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xpZW50SWQ6ICR7dGhpcy5jbGllbnRJRH1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmdldEV2ZW50cygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2VydmVyIGRvd24/Jyk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlKCdzZXJ2ZXJEb3duJyk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9LCAzMDAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmNsaWVudElEfSBHZXR0aW5nIGV2ZW50c2ApO1xuICAgICAgICBmZXRjaCgnL3Byb3h5L2V2ZW50cycsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogYGlkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuY2xpZW50SUQpfWAsXG4gICAgICAgICAgICBqc29uOiB0cnVlLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLFxuICAgICAgICAgICAgICAgICdVc2VyLWFnZW50JzogJ01vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzEyXzApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81NS4wLjI4ODMuOTUgU2FmYXJpLzUzNy4zNicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIH0pLnRoZW4oKHRleHQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZUV2ZW50cyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRFdmVudHMoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZXZlbnRUcmllcysrO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgVHJpZXM6ICR7dGhpcy5ldmVudFRyaWVzfWApO1xuICAgICAgICAgICAgICBpZih0aGlzLmV2ZW50VHJpZXMgPiA1KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWQoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwYXJzZUV2ZW50cyhldmVudHMpIHtcbiAgICAgICAgaWYgKCFldmVudHMpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgZXZlbnRzLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gZXZlbnRbMF07XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gZXZlbnRbMV07XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2dvdE1lc3NhZ2UnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVNZXNzYWdlKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0eXBpbmcnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdGF0dXNJbmZvJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNJbmZvKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJhbmdlckRpc2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzUGFydG5lciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWVNZXNzYWdlcy5mb3JFYWNoKCh0eHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIG1lc3NhZ2UgcXVldWUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UodHh0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NlcnZlck1lc3NhZ2UnOlxuICAgICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJNZXNzYWdlKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29ubmVjdGVkKCkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UoJ2Nvbm5lY3QnLCB0cnVlKTtcbiAgICB9XG5cbiAgICByZWNlaXZlTWVzc2FnZSh0ZXh0KSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSgnbWVzc2FnZScsIHRleHQpO1xuICAgIH1cblxuICAgIHNlcnZlck1lc3NhZ2UodGV4dCkge1xuICAgICAgdGhpcy5tZXNzYWdlKCdzZXJ2ZXJNZXNzYWdlJywgdGV4dCk7XG4gICAgfVxuXG4gICAgc3RhdHVzSW5mbyhpbmZvKSB7fVxuXG4gICAgdHlwaW5nKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmNsaWVudElEfSBpcyB0eXBpbmdgKTtcblxuICAgICAgICB0aGlzLm1lc3NhZ2UoJ3R5cGluZycsIHRydWUpO1xuICAgIH1cblxuICAgIHNlbmRNZXNzYWdlKHR4dCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzUGFydG5lcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FkZCB0byBxdWV1ZScpO1xuICAgICAgICAgICAgdGhpcy5xdWV1ZU1lc3NhZ2VzLnB1c2godGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmNsaWVudElEfSBTZW5kIG1lc3NhZ2UgJHt0eHR9YCk7XG5cbiAgICAgICAgZmV0Y2goJy9wcm94eS9zZW5kJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBib2R5OiBgaWQ9JHtlbmNvZGVVUklDb21wb25lbnQodGhpcy5jbGllbnRJRCl9Jm1zZz0ke2VuY29kZVVSSUNvbXBvbmVudCh0eHQpfWAsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7fSk7XG4gICAgfVxuXG4gICAgc2VuZFR5cGluZygpIHtcblxuICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmNsaWVudElEfSBTZW5kIHR5cGluZ2ApO1xuXG4gICAgICAgIGZldGNoKCcvcHJveHkvdHlwaW5nJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBib2R5OiBgaWQ9JHtlbmNvZGVVUklDb21wb25lbnQodGhpcy5jbGllbnRJRCl9YCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHt9KTtcbiAgICB9XG5cbiAgICBkaXNjb25uZWN0ZWQoKSB7XG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tZXNzYWdlKCdkaXNjb25uZWN0JywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgb24odHlwZSwgY2IpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxpc3RlbmVyc1t0eXBlXSkge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNbdHlwZV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbmVyc1t0eXBlXS5wdXNoKGNiKTtcbiAgICB9XG5cbiAgICByYW5kSWQoKSB7XG4gICAgICAgIGZvciAodmFyIGEgPSBcIlwiLCBiID0gMDsgOCA+IGI7IGIrKylcbiAgICAgICAgICAgIHZhciBjID0gTWF0aC5mbG9vcigzMiAqIE1hdGgucmFuZG9tKCkpLFxuICAgICAgICAgICAgYSA9IGEgKyBcIjIzNDU2Nzg5QUJDREVGR0hKS0xNTlBRUlNUVVZXWFlaXCIuY2hhckF0KGMpO1xuICAgICAgICByZXR1cm4gYVxuICAgIH1cblxuICAgIG1lc3NhZ2UodHlwZSwgcGF5bG9hZCkge1xuICAgICAgICBpZiAodGhpcy5saXN0ZW5lcnNbdHlwZV0pIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW3R5cGVdLmZvckVhY2goKGNiKSA9PiB7XG4gICAgICAgICAgICAgICAgY2IocGF5bG9hZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHt9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBPbWVnbGU7XG4iXX0=\n\n ;(function register() { /* react-hot-loader/webpack */ if (process.env.NODE_ENV !== 'production') { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/timbroddin/Sites/omegle-mitm/omegle/Omegle.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/timbroddin/Sites/omegle-mitm/omegle/Omegle.js\"); } } })();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ },\n\n/***/ 576:\n/***/ function(module, exports, __webpack_require__) {\n\n__webpack_require__(33);\nmodule.exports = __webpack_require__(239);\n\n\n/***/ }\n\n},[576]);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWdlcz9jZTBjZTdmIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvTWVzc2FnZXMuanM/Y2UwY2U3ZiIsIndlYnBhY2s6Ly8vLi9vbWVnbGUvT21lZ2xlLmpzP2NlMGNlN2YiXSwibmFtZXMiOlsiT21lZ2xlVmlldyIsInByb3BzIiwic3RhdGUiLCJtZXNzYWdlcyIsInN0YXJ0ZWQiLCJlIiwicHJldmVudERlZmF1bHQiLCJzZXRTdGF0ZSIsImMxIiwiYzIiLCJvbiIsInR4dCIsIm0iLCJwdXNoIiwidHlwZSIsIm5hbWUiLCJpZCIsImNsaWVudElEIiwidGV4dCIsInNlbmRNZXNzYWdlIiwic2VuZFR5cGluZyIsInN0YXJ0IiwiY29udGVudCIsImJpbmQiLCJNZXNzYWdlcyIsInJlZnMiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJtYXAiLCJtZXNzYWdlIiwiayIsIk9tZWdsZSIsImxpc3RlbmVycyIsImlzQ29ubmVjdGVkIiwicXVldWVNZXNzYWdlcyIsImhhc1BhcnRuZXIiLCJldmVudFRyaWVzIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwidGhlbiIsInJlc3BvbnNlIiwiSlNPTiIsInBhcnNlIiwiRXJyb3IiLCJjb25zb2xlIiwibG9nIiwiY29ubmVjdGVkIiwicGFyc2VFdmVudHMiLCJldmVudHMiLCJnZXRFdmVudHMiLCJzZXRUaW1lb3V0IiwiY2F0Y2giLCJlcnIiLCJib2R5IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwianNvbiIsImRpc2Nvbm5lY3RlZCIsImZvckVhY2giLCJldmVudCIsInBheWxvYWQiLCJyZWNlaXZlTWVzc2FnZSIsInR5cGluZyIsInN0YXR1c0luZm8iLCJzZXJ2ZXJNZXNzYWdlIiwiaW5mbyIsImNiIiwiYSIsImIiLCJjIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY2hhckF0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNB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QUFyQixFQUF3QixJQUFJQSxDQUE1QixFQUErQkEsR0FBL0I7QUFDSSxvQkFBSUMsSUFBSUMsS0FBS0MsS0FBTCxDQUFXLEtBQUtELEtBQUtFLE1BQUwsRUFBaEIsQ0FBUjtBQUFBLG9CQUNBTCxJQUFJQSxJQUFJLG1DQUFtQ00sTUFBbkMsQ0FBMENKLENBQTFDLENBRFI7QUFESixhQUdBLE9BQU9GLENBQVA7QUFDSDs7O2dDQUVPckQsSSxFQUFNOEMsTyxFQUFTO0FBQ25CLGdCQUFJLEtBQUs1QixTQUFMLENBQWVsQixJQUFmLENBQUosRUFBMEI7QUFDdEIscUJBQUtrQixTQUFMLENBQWVsQixJQUFmLEVBQXFCNEMsT0FBckIsQ0FBNkIsVUFBQ1EsRUFBRCxFQUFRO0FBQ2pDQSx1QkFBR04sT0FBSDtBQUNILGlCQUZEO0FBR0gsYUFKRCxNQUlPLENBQUU7QUFDWjs7Ozs7a0JBR1U3QixNIiwiZmlsZSI6ImJ1bmRsZXMvcGFnZXMvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHtDb21wb25lbnR9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IE9tZWdsZSBmcm9tICcuLi9vbWVnbGUvT21lZ2xlJztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5pbXBvcnQgTWVzc2FnZXMgZnJvbSAnLi4vY29tcG9uZW50cy9NZXNzYWdlcyc7XG5cbmNsYXNzIE9tZWdsZVZpZXcgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgbWVzc2FnZXM6IFtdLFxuICAgICAgICAgICAgc3RhcnRlZDogZmFsc2VcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge31cblxuICAgIHN0YXJ0KGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtzdGFydGVkOiB0cnVlfSk7XG4gICAgICAgIGxldCBjMSA9IG5ldyBPbWVnbGUoKTtcbiAgICAgICAgbGV0IGMyID0gbmV3IE9tZWdsZSgpO1xuXG4gICAgICAgIGMxLm9uKCdtZXNzYWdlJywgKHR4dCkgPT4ge1xuICAgICAgICAgICAgbGV0IG0gPSB0aGlzLnN0YXRlLm1lc3NhZ2VzO1xuICAgICAgICAgICAgbS5wdXNoKHt0eXBlOiAnTWVzc2FnZScsIG5hbWU6ICdQZXJzb24gMScsIGlkOiBjMS5jbGllbnRJRCwgdGV4dDogdHh0fSk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHttZXNzYWdlczogbX0pO1xuICAgICAgICAgICAgYzIuc2VuZE1lc3NhZ2UodHh0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYzIub24oJ21lc3NhZ2UnLCAodHh0KSA9PiB7XG4gICAgICAgICAgICBsZXQgbSA9IHRoaXMuc3RhdGUubWVzc2FnZXM7XG4gICAgICAgICAgICBtLnB1c2goe3R5cGU6ICdNZXNzYWdlJywgbmFtZTogJ1BlcnNvbiAyJywgaWQ6IGMyLmNsaWVudElELCB0ZXh0OiB0eHR9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe21lc3NhZ2VzOiBtfSk7XG4gICAgICAgICAgICBjMS5zZW5kTWVzc2FnZSh0eHQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjMS5vbignc2VydmVyTWVzc2FnZScsICh0eHQpID0+IHtcbiAgICAgICAgICBsZXQgbSA9IHRoaXMuc3RhdGUubWVzc2FnZXM7XG4gICAgICAgICAgbS5wdXNoKHt0eXBlOiAnTWVzc2FnZScsIG5hbWU6ICdTZXJ2ZXInLCBpZDogYzEuY2xpZW50SUQsIHRleHQ6IHR4dH0pO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe21lc3NhZ2VzOiBtfSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYzIub24oJ3NlcnZlck1lc3NhZ2UnLCAodHh0KSA9PiB7XG4gICAgICAgICAgbGV0IG0gPSB0aGlzLnN0YXRlLm1lc3NhZ2VzO1xuICAgICAgICAgIG0ucHVzaCh7dHlwZTogJ01lc3NhZ2UnLCBuYW1lOiAnU2VydmVyJywgaWQ6IGMyLmNsaWVudElELCB0ZXh0OiB0eHR9KTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHttZXNzYWdlczogbX0pO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGMxLm9uKCdzZXJ2ZXJEb3duJywoKSA9PiB7XG4gICAgICAgICAgbGV0IG0gPSB0aGlzLnN0YXRlLm1lc3NhZ2VzO1xuICAgICAgICAgIG0ucHVzaCh7dHlwZTogJ01lc3NhZ2UnLCBuYW1lOiAnU2VydmVyJywgaWQ6IGMxLmNsaWVudElELCB0ZXh0OiAnU2VydmVyIHNlZW1zIGRvd24nfSk7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bWVzc2FnZXM6IG19KTtcblxuICAgICAgICB9KVxuXG4gICAgICAgIGMyLm9uKCdzZXJ2ZXJEb3duJywoKSA9PiB7XG4gICAgICAgICAgbGV0IG0gPSB0aGlzLnN0YXRlLm1lc3NhZ2VzO1xuICAgICAgICAgIG0ucHVzaCh7dHlwZTogJ01lc3NhZ2UnLCBuYW1lOiAnU2VydmVyJywgaWQ6IGMyLmNsaWVudElELCB0ZXh0OiAnU2VydmVyIHNlZW1zIGRvd24nfSk7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bWVzc2FnZXM6IG19KTtcblxuICAgICAgICB9KVxuXG4gICAgICAgIGMxLm9uKCd0eXBpbmcnLCAoKSA9PiB7XG4gICAgICAgICAgICBjMi5zZW5kVHlwaW5nKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGMyLm9uKCd0eXBpbmcnLCAoKSA9PiB7XG4gICAgICAgICAgICBjMS5zZW5kVHlwaW5nKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGMxLm9uKCd0eXBpbmcnLCAoKSA9PiB7XG4gICAgICAgICAgICBjMi5zZW5kVHlwaW5nKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGMxLm9uKCdkaXNjb25uZWN0JywgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IG0gPSB0aGlzLnN0YXRlLm1lc3NhZ2VzO1xuICAgICAgICAgICAgYzEuc3RhcnQoKTtcbiAgICAgICAgICAgIGMyLnN0YXJ0KCk7XG4gICAgICAgICAgICBtLnB1c2goe3R5cGU6ICdEaXNjb25uZWN0J30pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGMyLm9uKCdkaXNjb25uZWN0JywgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IG0gPSB0aGlzLnN0YXRlLm1lc3NhZ2VzO1xuXG4gICAgICAgICAgICBjMi5zdGFydCgpO1xuICAgICAgICAgICAgYzIuc3RhcnQoKTtcbiAgICAgICAgICAgIG0ucHVzaCh7dHlwZTogJ0Rpc2Nvbm5lY3QnfSlcblxuICAgICAgICB9KTtcblxuICAgICAgICBjMS5zdGFydCgpO1xuICAgICAgICBjMi5zdGFydCgpO1xuXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQgbWVzc2FnZXMgPSBbXTtcbiAgICAgICAgbGV0IGNvbnRlbnQ7XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSA8ZGl2IGNsYXNzTmFtZT1cInN0YXJ0XCI+XG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJzdGFydEJ0blwiIG9uQ2xpY2s9e3RoaXMuc3RhcnQuYmluZCh0aGlzKX0+U3RhcnQ8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgY29udGVudCA9IDxNZXNzYWdlcyBtZXNzYWdlcz17dGhpcy5zdGF0ZS5tZXNzYWdlc30gLz5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICAgIDxIZWFkPlxuICAgICAgICAgICAgPHN0eWxlPntgXG4gICAgICAgICAgICAgICAgYm9keSB7XG4gICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogVmVyZGFuYTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAuc3RhcnQge1xuICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMHZ3O1xuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDB2aDtcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLnN0YXJ0QnRuIHtcbiAgICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDMwcHg7XG4gICAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWQyZDIzO1xuICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogNTZweDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAubWVzc2FnZXMge1xuICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMHZ3O1xuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDB2aDtcbiAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC5tZXNzYWdlIHtcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzcHg7XG4gICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAubmlja05hbWUge1xuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI0VGRUZFRlwiO1xuICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAzMHB4O1xuICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICAgIDwvSGVhZD5cbiAgICAgICAgICB7Y29udGVudH1cbiAgICAgICAgPC9kaXY+O1xuXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBPbWVnbGVWaWV3O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcGFnZXM/ZW50cnkiLCJpbXBvcnQgUmVhY3QsIHtDb21wb25lbnR9IGZyb20gJ3JlYWN0JztcblxuY2xhc3MgTWVzc2FnZXMgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5yZWZzLm1lc3NhZ2VzLnNjcm9sbFRvcCA9IHRoaXMucmVmcy5tZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge21lc3NhZ2VzfSA9IHRoaXMucHJvcHM7XG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlc1wiIHJlZj1cIm1lc3NhZ2VzXCI+XG4gICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UsIGspID0+IHtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT0gJ01lc3NhZ2UnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZVwiIGtleT17YG1lc3NhZ2UtJHtrfWB9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuaWNrTmFtZVwiPnttZXNzYWdlLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtZXNzYWdlXCI+e21lc3NhZ2UudGV4dH08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiA8aHIga2V5PXtgbWVzc2FnZS0ke2t9YH0vPlxuICAgICAgICAgICAgfVxuICAgICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1lc3NhZ2VzO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29tcG9uZW50cy9NZXNzYWdlcy5qcyIsImNsYXNzIE9tZWdsZSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucXVldWVNZXNzYWdlcyA9IFtdO1xuICAgICAgICB0aGlzLmhhc1BhcnRuZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ldmVudFRyaWVzID0gMDtcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5xdWV1ZU1lc3NhZ2VzID0gW107XG4gICAgICAgIHRoaXMuZXZlbnRUcmllcyA9IDA7XG5cbiAgICAgICAgZmV0Y2goYC9wcm94eS9zdGFydD9maXJzdGV2ZW50cz0xJmxhbmc9bmxgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsKi8qO3E9MC44JyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIH0pLnRoZW4oKHRleHQpID0+IHtcbiAgICAgICAgICAgIGlmKHRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHRleHQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuY2xpZW50SUQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIE9tZWdsZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZUV2ZW50cyhyZXNwb25zZS5ldmVudHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50SUQgPSByZXNwb25zZS5jbGllbnRJRDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xpZW50SWQ6ICR7dGhpcy5jbGllbnRJRH1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmdldEV2ZW50cygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2VydmVyIGRvd24/Jyk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlKCdzZXJ2ZXJEb3duJyk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9LCAzMDAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmNsaWVudElEfSBHZXR0aW5nIGV2ZW50c2ApO1xuICAgICAgICBmZXRjaCgnL3Byb3h5L2V2ZW50cycsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogYGlkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuY2xpZW50SUQpfWAsXG4gICAgICAgICAgICBqc29uOiB0cnVlLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLFxuICAgICAgICAgICAgICAgICdVc2VyLWFnZW50JzogJ01vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzEyXzApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81NS4wLjI4ODMuOTUgU2FmYXJpLzUzNy4zNicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIH0pLnRoZW4oKHRleHQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZUV2ZW50cyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRFdmVudHMoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZXZlbnRUcmllcysrO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgVHJpZXM6ICR7dGhpcy5ldmVudFRyaWVzfWApO1xuICAgICAgICAgICAgICBpZih0aGlzLmV2ZW50VHJpZXMgPiA1KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWQoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwYXJzZUV2ZW50cyhldmVudHMpIHtcbiAgICAgICAgaWYgKCFldmVudHMpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgZXZlbnRzLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gZXZlbnRbMF07XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gZXZlbnRbMV07XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2dvdE1lc3NhZ2UnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVNZXNzYWdlKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0eXBpbmcnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdGF0dXNJbmZvJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNJbmZvKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJhbmdlckRpc2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzUGFydG5lciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWVNZXNzYWdlcy5mb3JFYWNoKCh0eHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIG1lc3NhZ2UgcXVldWUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UodHh0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NlcnZlck1lc3NhZ2UnOlxuICAgICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJNZXNzYWdlKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29ubmVjdGVkKCkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UoJ2Nvbm5lY3QnLCB0cnVlKTtcbiAgICB9XG5cbiAgICByZWNlaXZlTWVzc2FnZSh0ZXh0KSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSgnbWVzc2FnZScsIHRleHQpO1xuICAgIH1cblxuICAgIHNlcnZlck1lc3NhZ2UodGV4dCkge1xuICAgICAgdGhpcy5tZXNzYWdlKCdzZXJ2ZXJNZXNzYWdlJywgdGV4dCk7XG4gICAgfVxuXG4gICAgc3RhdHVzSW5mbyhpbmZvKSB7fVxuXG4gICAgdHlwaW5nKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmNsaWVudElEfSBpcyB0eXBpbmdgKTtcblxuICAgICAgICB0aGlzLm1lc3NhZ2UoJ3R5cGluZycsIHRydWUpO1xuICAgIH1cblxuICAgIHNlbmRNZXNzYWdlKHR4dCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzUGFydG5lcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FkZCB0byBxdWV1ZScpO1xuICAgICAgICAgICAgdGhpcy5xdWV1ZU1lc3NhZ2VzLnB1c2godGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmNsaWVudElEfSBTZW5kIG1lc3NhZ2UgJHt0eHR9YCk7XG5cbiAgICAgICAgZmV0Y2goJy9wcm94eS9zZW5kJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBib2R5OiBgaWQ9JHtlbmNvZGVVUklDb21wb25lbnQodGhpcy5jbGllbnRJRCl9Jm1zZz0ke2VuY29kZVVSSUNvbXBvbmVudCh0eHQpfWAsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7fSk7XG4gICAgfVxuXG4gICAgc2VuZFR5cGluZygpIHtcblxuICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmNsaWVudElEfSBTZW5kIHR5cGluZ2ApO1xuXG4gICAgICAgIGZldGNoKCcvcHJveHkvdHlwaW5nJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBib2R5OiBgaWQ9JHtlbmNvZGVVUklDb21wb25lbnQodGhpcy5jbGllbnRJRCl9YCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHt9KTtcbiAgICB9XG5cbiAgICBkaXNjb25uZWN0ZWQoKSB7XG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tZXNzYWdlKCdkaXNjb25uZWN0JywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgb24odHlwZSwgY2IpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxpc3RlbmVyc1t0eXBlXSkge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNbdHlwZV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbmVyc1t0eXBlXS5wdXNoKGNiKTtcbiAgICB9XG5cbiAgICByYW5kSWQoKSB7XG4gICAgICAgIGZvciAodmFyIGEgPSBcIlwiLCBiID0gMDsgOCA+IGI7IGIrKylcbiAgICAgICAgICAgIHZhciBjID0gTWF0aC5mbG9vcigzMiAqIE1hdGgucmFuZG9tKCkpLFxuICAgICAgICAgICAgYSA9IGEgKyBcIjIzNDU2Nzg5QUJDREVGR0hKS0xNTlBRUlNUVVZXWFlaXCIuY2hhckF0KGMpO1xuICAgICAgICByZXR1cm4gYVxuICAgIH1cblxuICAgIG1lc3NhZ2UodHlwZSwgcGF5bG9hZCkge1xuICAgICAgICBpZiAodGhpcy5saXN0ZW5lcnNbdHlwZV0pIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW3R5cGVdLmZvckVhY2goKGNiKSA9PiB7XG4gICAgICAgICAgICAgICAgY2IocGF5bG9hZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHt9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBPbWVnbGU7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9vbWVnbGUvT21lZ2xlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ=="}